#Political ideology
PoliticalIdeology <- read_csv("data/dime_cong_elections_current.csv")
PoliticalIdeology %>% transform(total_receipts = as.numeric(total_receipts)) -> PoliticalIdeology
# Loading 2014 contributions
contribDB_2014 <- fread("data/contribDB_2014.csv", select =  c("bonica.rid","transaction.id", "amount","date","contributor.name","contributor.zipcode","recipient.name","seat","contributor.cfscore", "candidate.cfscore", "contributor.state", "recipient.state"))
head(contribDB_2014)
# Setting months and years in contributions
contribDB_2014 %>%
mutate(date = as.Date(date),
month = month(date),
year = year(date)) -> contribDB_2014
joined.2014 <- left_join(contribDB_2014, PoliticalIdeology2014, by = c("bonica.rid" = "bonica_rid"))
joined.2014 <- left_join(contribDB_2014, PoliticalIdeology, by = c("bonica.rid" = "bonica_rid"))
joined.2014 <- left_join(contribDB_2014, PoliticalIdeology, by = c("bonica.rid" = "bonica_rid"))
PoliticalIdeology %>% filter(cycle==2014) -> PoliticalIdeology2014
joined.2014 <- left_join(contribDB_2014, PoliticalIdeology2014, by = c("bonica.rid" = "bonica_rid"))
head(contribDB_2014)
unique(contribDB2014$contributor.state)
names(contribDB_2014$contributor.state)
names(contribDB_2014$contributor.state)
# Sample State Filters
unique(contribDB_2014$recipient.state)
names(contribDB_2014$contributor.state)
table(contribDB_2014$contributor.state)
View(PoliticalIdeology2014)
install.packages("citr")
install.packages("citr")
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
knitr::opts_chunk$set(echo = TRUE, cache = TRUE, message=FALSE, warning=FALSE)
# Installing Necessary Packages
# source("http://washuresearch.org/stockfunctions.R")
library(tidyverse)
library(ff)
library(data.table)
library(lme4)
PoliticalIdeology %>% transform(total_receipts = as.numeric(total_receipts)) -> PoliticalIdeology
PoliticalIdeology %>% filter(cycle==2014) -> PoliticalIdeology2014
# Setting months and years in contributions
contribDB_2014 %>%
mutate(date = as.Date(date),
month = month(date),
year = year(date)) -> contribDB_2014
# Sample State Filters
unique(contribDB_2014$recipient.state)
table(contribDB_2014$contributor.state)
table(contribDB_2014$contributor.state)
contribDB_2014_TX <- filter(contribDB_2014, recipient.state == "TX" | )
contribDB_2014_TX <- filter(contribDB_2014, recipient.state == "TX" | contributor.state == "TX")
# All data, by party
ggplot(data = PoliticalIdeology) +
geom_point(mapping = aes(x = recipient_cfscore , y = total_receipts, color=party))
# Texas 2018
ggplot(data = subset(PoliticalIdeology, state=="TX" & cycle=="2018")) +
geom_point(mapping = aes(x = recipient_cfscore , y = total_receipts, color=party))
# Beto2014
ggplot(data = subset(contribDB_2014, recipient.name == "O ROURKE, ROBERT (BETO)")) +
geom_point(mapping = aes(x = date, y = contributor.cfscore, size = amount)) + theme_minimal() + labs(list(title='', x='', y='')) + theme(axis.ticks = element_blank(), axis.text.x = element_blank())
# Beto2014 abline
ggplot(data = subset(contribDB_2014, recipient.name == "O ROURKE, ROBERT (BETO)")) + geom_smooth(mapping = aes(x = date, y = contributor.cfscore), method="lm") + theme_minimal()
ggplot(data = subset(contribDB_2014, recipient.name == "SCALISE, STEPHEN J")) +
geom_point(mapping = aes(x = date, y = contributor.cfscore, size = amount)) + theme_minimal() + labs(list(title='', x='', y='')) + theme(axis.ticks = element_blank(), axis.text.x = element_blank())
ggplot(data = subset(contribDB_2014, recipient.name == "SCALISE, STEPHEN J")) + geom_point(mapping = aes(x = date, y = contributor.cfscore)) + geom_smooth(mapping = aes(x = date, y = contributor.cfscore), method="lm") + theme_minimal()
ggplot(data = subset(contribDB_2014, recipient.name == "PELOSI, NANCY")) + geom_point(mapping = aes(x = date, y = contributor.cfscore)) + geom_smooth(mapping = aes(x = date, y = contributor.cfscore), method="lm") + theme_minimal()
head(contribDB_2014)
head(PoliticalIdeology)
# Beto2014 trend line
ggplot(data = subset(contribDB_2014, recipient.name == "O ROURKE, ROBERT (BETO)")) + geom_point(mapping = aes(x = date, y = contributor.cfscore)) + geom_smooth(mapping = aes(x = date, y = contributor.cfscore), method="lm") + theme_minimal()
# Beto2014
ggplot(data = subset(contribDB_2014, recipient.name == "O ROURKE, ROBERT (BETO)")) +
geom_point(mapping = aes(x = date, y = contributor.cfscore, size = amount)) + theme_minimal() + labs(list(title='', x='', y='')) + theme(axis.ticks = element_blank(), axis.text.x = element_blank())
generic_ballot_history <- read_csv("Political_Data/generic-ballot-history.csv")
generic_ballot_history <- read_csv("data/generic-ballot-history.csv")
View(generic_ballot_history)
ggplot(data = generic_ballot_history) +
geom_smooth(mapping = aes(x = end_date, y = Democrat), color="blue") + theme_minimal() + labs(list(title='', x='', y='')) + theme(axis.ticks = element_blank(), axis.text.x = element_blank())
ggplot(data = generic_ballot_history) + theme_minimal() +
geom_point(mapping = aes(x = end_date, y = Democrat), color="blue") +
geom_smooth(mapping = aes(x = end_date, y = Democrat), color="blue") +
geom_point(mapping = aes(x = end_date, y = Republican), color="red") +
geom_smooth(mapping = aes(x = end_date, y = Republican), color="red") +
geom_point(mapping = aes(x = end_date, y = `Undecided/Other`), color="yellow") +
geom_smooth(mapping = aes(x = end_date, y = `Undecided/Other`), color="yellow") +
labs(list(title='Generic Polling, 2012-2018', x='', y='% Support'))
library(readxl)
American_Presidency_Project_Approval_Ratings_for_POTUS <- read_excel("data/presidential_approval/American Presidency Project - Approval Ratings for POTUS.xlsx",
col_types = c("text", "date", "date",
"numeric", "numeric", "numeric"))
View(American_Presidency_Project_Approval_Ratings_for_POTUS)
knitr::opts_chunk$set(echo = TRUE, cache = TRUE, message=FALSE, warning=FALSE)
approval <- read_excel("data/presidential_approval/American Presidency Project - Approval Ratings for POTUS.xlsx",
col_types = c("text", "date", "date",
"numeric", "numeric", "numeric"))
ggplot(data = approval, aes(x = 'Start Date', y = Approving)) +
geom_line()
library(tidyverse)
ggplot(data = approval, aes(x = 'Start Date', y = Approving)) +
geom_line()
summary(approval)
ggplot(approval, aes(Approving)) + geom_histogram()
ggplot(approval, aes(Approving)) + geom_histogram() + theme_minimal()
ggplot(approval, aes(x = 'Start Date', y = Approving, group = President, colour = President)) +
geom_line() +
facet_wrap(~ President)
ggplot(approval, aes(x = `Start Date`, y = Approving, group = President, colour = President)) +
geom_line() +
facet_wrap(~ President)
ggplot(data = approval, aes(x = `Start Date`, y = Approving)) +
geom_line()
ggplot(data = approval, aes(x = `Start Date`, y = Approving)) +
geom_line() +
theme_minimal()
ggplot(approval, aes(x = `Start Date`, y = Approving, group = President, colour = President)) +
geom_line() +
facet_wrap(~ President) +
theme_minimal()
ggplot(approval, aes(x = `Start Date`, y = Approving, group = President, colour = President)) +
geom_line() +
facet_wrap(.~ President) +
theme_minimal()
ggplot(approval, aes(x = `Start Date`, y = Approving, group = President, colour = President)) +
geom_line() +
facet_wrap(President) +
theme_minimal()
ggplot(approval, aes(x = `Start Date`, y = Approving, group = President, colour = President)) +
geom_line() +
facet_wrap(~President) +
theme_minimal()
ggplot(data = approval, aes(x = `Start Date`, y = Approving), color = President) +
geom_line() +
theme_minimal()
ggplot(data = approval, aes(x = `Start Date`, y = Approving), group = President, color = President) +
geom_line() +
theme_minimal()
ggplot(data = approval, aes(x = `Start Date`, y = Approving, group = President, color = President)) +
geom_line() +
theme_minimal()
knitr::opts_chunk$set(echo = TRUE, cache = TRUE, message=FALSE, warning=FALSE)
approval %>%
mutate(Approving_change = Approving - lead(Approving))
library(tidyverse)
approval %>%
mutate(Approving_change = Approving - lead(Approving))
View(approval)
Approving_change = Approving - lead(Approving),
Approving_change = Approving - lead(Approving),
approval %>%
mutate(
Approving_change = Approving - lead(Approving)
Disapproving_change = Disapproving - lead(Disapproving)) -> approval
approval %>%
mutate(
Approving_change = Approving - lead(Approving),
Disapproving_change = Disapproving - lead(Disapproving)) -> approval
ggplot(approval, aes(Approving_change)) + geom_histogram() + theme_minimal()
ggplot(approval, aes(Disapproving_change)) + geom_histogram() + theme_minimal()
summary(approval)
ls(approval)
knitr::opts_chunk$set(echo = TRUE, cache = TRUE, message=FALSE, warning=FALSE)
summary(approval, group=President)
approval %>%
mutate(month = month(`Start Date`)) -> approval
library(readxl)
library(tidyverse)
approval %>%
mutate(month = month(`Start Date`)) -> approval
library(lubridate)
approval %>%
mutate(month = month(`Start Date`)) -> approval
approval %>%
group_by(month) %>%
summarise(Approving_Month = mean(Approving))
approval %>%
group_by(month) %>%
summarise(Approving_Month = mean(Approving),
Disapproving_Month = mean(Disapproving))
approval %>%
group_by(month) %>%
summarise(Approving_Month = mean(Approving),
Disapproving_Month = mean(Disapproving),
`Unsure/NoData_Month` = `Unsure/NoData`)
approval %>%
group_by(month) %>%
summarise(Approving_Month = mean(Approving),
Disapproving_Month = mean(Disapproving),
`Unsure/NoData_Month` = mean(`Unsure/NoData`))
ggplot(approval, aes(`Unsure/NoData`)) + geom_histogram() + theme_minimal()
approval %>%
mutate(Approving_change = Approving - lead(Approving), Disapproving_change = Disapproving - lead(Disapproving),
`Unsure/NoData_change` = `Unsure/NoData` - lead(`Unsure/NoData`))
approval %>%
mutate(Approving_change = Approving - lead(Approving), Disapproving_change = Disapproving - lead(Disapproving),
`Unsure/NoData_change` = `Unsure/NoData` - lead(`Unsure/NoData`)) -> approval
ggplot(approval, aes(`Unsure/NoData_change`)) + geom_histogram() + theme_minimal()
ggplot(data = approval, aes(x = `Start Date`, y = `Unsure/NoData`, group = President, color = President)) +
geom_line() +
theme_minimal()
approval %>%
group_by(month) %>%
summarise(Approving_Month = mean(Approving),
Disapproving_Month = mean(Disapproving),
`Unsure/NoData_Month` = mean(`Unsure/NoData`))
approval %>%
group_by(month) %>%
summarise(Approving_Month = mean(Approving),
Disapproving_Month = mean(Disapproving),
`Unsure/NoData_Month` = mean(`Unsure/NoData`)) -> approval
ggplot(data = approval, aes(x = `Start Date`, y = Approving_month, group = President, color = President)) +
geom_line() +
theme_minimal()
View(approval)
approval <- read_excel("data/presidential_approval/American Presidency Project - Approval Ratings for POTUS.xlsx",
col_types = c("text", "date", "date",
"numeric", "numeric", "numeric"))
approval %>%
mutate(Approving_change = Approving - lead(Approving), Disapproving_change = Disapproving - lead(Disapproving),
`Unsure/NoData_change` = `Unsure/NoData` - lead(`Unsure/NoData`)) -> approval
approval %>%
mutate(month = month(`Start Date`)) -> approval
approval %>%
group_by(month) %>%
mutate(Approving_Month = mean(Approving),
Disapproving_Month = mean(Disapproving),
`Unsure/NoData_Month` = mean(`Unsure/NoData`))
approval %>%
group_by(month) %>%
mutate(Approving_Month = mean(Approving),
Disapproving_Month = mean(Disapproving),
`Unsure/NoData_Month` = mean(`Unsure/NoData`)) -> approval
View(approval)
ggplot(data = approval, aes(x = `Start Date`, y = Approving_month, group = President, color = President)) +
geom_line() +
theme_minimal()
ggplot(data = approval, aes(x = `Start Date`, y = Approving_Month, group = President, color = President)) +
geom_line() +
theme_minimal()
knitr::opts_chunk$set(echo = TRUE, cache = TRUE, message=FALSE, warning=FALSE)
library(readxl)
library(tidyverse)
library(lubridate)
summary(approval)
approval %>% group_by(President) %>% summarize(mean=mean(Approving), sum=sum(Approving))
approval %>% group_by(President) %>% summarize(mean=mean(Approving), sd=sd(Approving))
approval %>% group_by(President) %>% summarize(mean=mean(Approving), sd=sd(Approving), max=max(Approving), min=min(Approving))
approval %>% split(.$President) %>% map(summary)
approval %>% group_by(President, year) %>% summarize(mean=mean(Approving), sd=sd(Approving), max=max(Approving),
knitr::opts_chunk$set(echo = TRUE, cache = TRUE, message=FALSE, warning=FALSE)
approval %>% group_by(President) %>% summarize(mean=mean(Approving), sd=sd(Approving), max=max(Approving), min=min(Approving))
library(readxl)
library(tidyverse)
library(lubridate)
approval %>% group_by(President) %>% summarize(mean=mean(Approving), sd=sd(Approving), max=max(Approving), min=min(Approving))
# Overall summary statistics
approval %>% summarize(mean=mean(Approving), sd=sd(Approving), max=max(Approving), min=min(Approving))
# Why does this give per-month statistics? In any case, the sd looks to be around 8.75, so let's roll with that for now and come back and figure this later.
approval %>% summarize(mean=mean(Disapproving), sd=sd(Disapproving), max=max(Disapproving), min=min(Disapproving))
# Overall summary statistics
approval %>% summarize(mean=mean(Approving_change), sd=sd(Approving_change), max=max(Approving_change), min=min(Approving_change))
approval %>% summarize(mean=mean(Disapproving_change), sd=sd(Disapproving_change), max=max(Disapproving_change), min=min(Disapproving_change))
approval %>% summarize(mean=mean(`Unsure/NoData_change`), sd=sd(`Unsure/NoData_change`), max=max(`Unsure/NoData_change`), min=min(`Unsure/NoData_change`))
approval %>% group_by(President) %>% summarize(mean=mean(Approving_change), sd=sd(Approving_change), max=max(Approving_change), min=min(Approving_change))
approval %>% group_by(President) %>% summarize(mean=mean(Approving_change,na.rm=T), sd=sd(Approving_change, na.rm=T), max=max(Approving_change, na.rm=T), min=min(Approving_change, na.rm=T))
knitr::opts_chunk$set(echo = FALSE, cache = TRUE, message=FALSE, warning=FALSE)
library(readxl)
library(tidyverse)
library(lubridate)
approval %>%
mutate(shock1 = ifelse(Approving_change > 2.5, 1, 0))
approval %>%
mutate(shock1 = ifelse(abs(Approving_change) > 2.5, 1, 0))
approval %>%
mutate(shock1sd = ifelse(abs(Approving_change) > 2.5, 1, 0),
shock2sd = ifelse(abs(Approving_change) > 5, 1, 0))
approval %>%
mutate(shock1sd = ifelse(abs(Approving_change) > 2.5, 1, 0),
shock2sd = ifelse(abs(Approving_change) > 5, 1, 0)) -> approval
summary(approval)
approval %>% count(shock1sd,shock2sd)
approval %>%
mutate(shock3sd = ifelse(abs(Approving_change) > 7.5, 1, 0)) -> approval
summary(approval)
approval %>% group_by(President) %>% summarize(mean=mean(Approving_change,na.rm=T), sd=sd(Approving_change, na.rm=T), max=max(Approving_change, na.rm=T), min=min(Approving_change, na.rm=T))
approval %>% group_by(President) %>% summarize(
mean=mean(Approving),
sd=sd(Approving),
max=max(Approving),
min=min(Approving),
`mean(change)`=mean(Approving_change,na.rm=T),
`sd(change)`=sd(Approving_change, na.rm=T),
`max(change)`=max(Approving_change, na.rm=T),
`min(change)`=min(Approving_change, na.rm=T))
approval %>% group_by(President) %>% summarize(
count=count(Approving),
mean=mean(Approving),
sd=sd(Approving),
max=max(Approving),
min=min(Approving),
`mean(change)`=mean(Approving_change,na.rm=T),
`sd(change)`=sd(Approving_change, na.rm=T),
`max(change)`=max(Approving_change, na.rm=T),
`min(change)`=min(Approving_change, na.rm=T))
approval %>% group_by(President) %>% summarize(
count=count(),
mean=mean(Approving),
sd=sd(Approving),
max=max(Approving),
min=min(Approving),
`mean(change)`=mean(Approving_change,na.rm=T),
`sd(change)`=sd(Approving_change, na.rm=T),
`max(change)`=max(Approving_change, na.rm=T),
`min(change)`=min(Approving_change, na.rm=T))
approval %>% group_by(President) %>% summarize(
`# of polls`=n(),
mean=mean(Approving),
sd=sd(Approving),
max=max(Approving),
min=min(Approving),
`mean(change)`=mean(Approving_change,na.rm=T),
`sd(change)`=sd(Approving_change, na.rm=T),
`max(change)`=max(Approving_change, na.rm=T),
`min(change)`=min(Approving_change, na.rm=T))
approval %>% group_by(President) %>% summarize(
`# of polls`=n(),
mean=mean(Approving),
sd=sd(Approving),
max=max(Approving),
min=min(Approving),
`mean(change)`=mean(Approving_change,na.rm=T),
`sd(change)`=sd(Approving_change, na.rm=T),
`max(change)`=max(Approving_change, na.rm=T),
`min(change)`=min(Approving_change, na.rm=T)) -> forChet
View(forChet)
View(approval)
knitr::opts_chunk$set(echo = FALSE, cache = TRUE, message=FALSE, warning=FALSE)
library(readxl)
library(tidyverse)
library(lubridate)
approval %>%
group_by(month) %>%
mutate(Approving_Month = mean(Approving),
Disapproving_Month = mean(Disapproving),
`Unsure/NoData_Month` = mean(`Unsure/NoData`) %>%
select(President, `Start Date`, Approving_Month, Disapproving_Month, `Unsure/NoData_Month`)) -> monthlyapproval
approval %>%
group_by(month) %>%
mutate(Approving_Month = mean(Approving),
Disapproving_Month = mean(Disapproving),
`Unsure/NoData_Month` = mean(`Unsure/NoData`) %>%
select(President)) -> monthlyapproval
approval %>% select(President, `Start Date`, Approving_Month, Disapproving_Month, `Unsure/NoData_Month`))
approval %>% select(President, `Start Date`, Approving_Month, Disapproving_Month, `Unsure/NoData_Month`)
ggplot(data = approval, aes(x = month, y = Approving_Month, group = President, color = President)) +
geom_point() +
theme_minimal()
ggplot(data = approval, aes(x = month, y = Approving_Month)) +
geom_point() +
theme_minimal()
approval %>%
group_by(month, year) %>%
mutate(Approving_Month = mean(Approving),
Disapproving_Month = mean(Disapproving),
`Unsure/NoData_Month` = mean(`Unsure/NoData`)) -> approval
approval %>%
mutate(
month = month(`Start Date`),
year = year(`Start Date`)) -> approval
approval <- read_excel("data/presidential_approval/American Presidency Project - Approval Ratings for POTUS.xlsx",
col_types = c("text", "date", "date",
"numeric", "numeric", "numeric"))
approval %>%
mutate(Approving_change = Approving - lead(Approving), Disapproving_change = Disapproving - lead(Disapproving),
`Unsure/NoData_change` = `Unsure/NoData` - lead(`Unsure/NoData`)) -> approval
month = month(`Start Date`),
approval %>%
mutate(
month = month(`Start Date`),
year = year(`Start Date`)) -> monthlyapproval
monthlyapproval %>%
group_by(month, year) %>%
mutate(
Approving_Month = mean(Approving),
Disapproving_Month = mean(Disapproving),
`Unsure/NoData_Month` = mean(`Unsure/NoData`)
) -> monthlyapproval
View(monthlyapproval)
ggplot(data = monthlyapproval, aes(x = month, y = Approving_Month)) +
geom_point() +
theme_minimal()
geom_point() + facet_wrap(~ year, ncol = 3) +
theme_minimal()
ggplot(data = monthlyapproval, aes(x = month, y = Approving_Month)) +
geom_point(stat="identity") + facet_wrap(~ year, ncol = 3) +
theme_minimal()
monthlyapproval %>% select(President, month, year, Approving_Month, Disapproving_Month, `Unsure/NoData_Month`)
monthlyapproval %>%
select(President, month, year, Approving_Month, Disapproving_Month, `Unsure/NoData_Month`) -> monthlyapproval
monthlyapproval %>% distinct()
monthlyapproval %>%
select(President, month, year, Approving_Month, Disapproving_Month, `Unsure/NoData_Month`) %>%
distinct() -> monthlyapproval
summary(monthlyapproval)
630/52
summary(monthlyapproval)
View(monthlyapproval)
ggplot(data = monthlyapproval, aes(x = month, y = Approving_Month))
ggplot(data = monthlyapproval, aes(x = time, y = Approving_Month))
ggplot(data = monthlyapproval, aes(x = month, y = Approving_Month)) + geom_point()
ggplot(data = monthlyapproval, aes(x = `Start Date`, y = Approving_Month)) + geom_point()
approval %>%
mutate(
month = month(`Start Date`),
year = year(`Start Date`)) -> monthlyapproval
monthlyapproval %>%
group_by(month, year) %>%
mutate(
Approving_Month = mean(Approving),
Disapproving_Month = mean(Disapproving),
`Unsure/NoData_Month` = mean(`Unsure/NoData`)
) -> monthlyapproval
monthlyapproval %>%
select(President, `Start Date`, month, year, Approving_Month, Disapproving_Month, `Unsure/NoData_Month`) %>%
distinct() -> monthlyapproval
ggplot(data = monthlyapproval, aes(x = `Start Date`, y = Approving_Month)) + geom_point()
ggplot(data = monthlyapproval, aes(x = `Start Date`, y = Approving_Month)) + geom_point() + theme_minimal()
ggplot(data = monthlyapproval, aes(x = `Start Date`, y = Approving_Month), group=President) + geom_point() + theme_minimal()
ggplot(data = monthlyapproval, aes(x = `Start Date`, y = Approving_Month), color=President) + geom_point() + theme_minimal()
ggplot(data = monthlyapproval, aes(x = `Start Date`, y = Approving_Month, color=President)) + geom_point() + theme_minimal()
ggplot(data = monthlyapproval, aes(x = `Start Date`, y = Approving_Month) + geom_point() + facet_wrap( ~ President, ncol = 3) + theme_minimal()
ggplot(data = monthlyapproval, aes(x = `Start Date`, y = Approving_Month) + geom_point() + facet_wrap( ~ President, ncol = 3) + theme_minimal()
ggplot(data = monthlyapproval, aes(x = `Start Date`, y = Approving_Month)) + geom_point() + facet_wrap( ~ President, ncol = 3) + theme_minimal()
ggplot(data = monthlyapproval, aes(x = `Start Date`, y = Approving_Month)) + geom_point() + facet_wrap( ~ President, ncol = 3, scales = "free_x") + theme_minimal()
ggplot(data = monthlyapproval, aes(x = `Start Date`, y = Approving_Month, color=President)) + geom_line() + facet_wrap( ~ President, ncol = 3, scales = "free_x") + theme_minimal()
?labs()
ggplot(data = monthlyapproval, aes(x = `Start Date`, y = Approving_Month, color=President)) + geom_line() + facet_wrap( ~ President, ncol = 3, scales = "free_x") + theme_minimal() + labs(title="Presidential Approval", x="", y="Percent Approval")
monthlyapproval %>%
mutate(Approving_change = Approving_Month - lead(Approving_Month), Disapproving_change = Disapproving_Month - lead(Disapproving_Month),
`Unsure/NoData_change` = `Unsure/NoData_Month` - lead(`Unsure/NoData_Month`)) -> monthlyapproval
monthlyapproval %>% summarize(mean=mean(Approving_change), sd=sd(Approving_change), max=max(Approving_change), min=min(Approving_change))
monthlyapproval
approval %>%
mutate(
month = month(`Start Date`),
year = year(`Start Date`)) -> monthlyapproval
monthlyapproval %>%
group_by(month, year) %>%
mutate(
Approving_Month = mean(Approving),
Disapproving_Month = mean(Disapproving),
`Unsure/NoData_Month` = mean(`Unsure/NoData`)
) -> monthlyapproval
monthlyapproval %>%
mutate(Approving_change = Approving_Month - lead(Approving_Month), Disapproving_change = Disapproving_Month - lead(Disapproving_Month),
`Unsure/NoData_change` = `Unsure/NoData_Month` - lead(`Unsure/NoData_Month`)) -> monthlyapproval
monthlyapproval %>%
select(President, `Start Date`, month, year, Approving_Month, Disapproving_Month, `Unsure/NoData_Month`) %>%
distinct() -> monthlyapproval
monthlyapproval
monthlyapproval %>%
select(President, `Start Date`, month, year, Approving_Month, Disapproving_Month, `Unsure/NoData_Month`) %>%
distinct(monthlyapproval) -> monthlyapproval
monthlyapproval
approval %>%
mutate(
month = month(`Start Date`),
year = year(`Start Date`)) -> monthlyapproval
monthlyapproval %>%
group_by(month, year) %>%
mutate(
Approving_Month = mean(Approving),
Disapproving_Month = mean(Disapproving),
`Unsure/NoData_Month` = mean(`Unsure/NoData`)
) -> monthlyapproval
monthlyapproval
monthlyapproval %>%
select(President, `Start Date`, month, year, Approving_Month, Disapproving_Month, `Unsure/NoData_Month`) %>%
distinct(month,year) -> monthlyapprovaltest
monthlyapprovaltest
monthlyapproval %>%
group_by(month,year)
monthlyapproval %>%
select(President, month, year, Approving_Month, Disapproving_Month, `Unsure/NoData_Month`) %>%
distinct()
monthlyapproval %>%
select(President, month, year, Approving_Month, Disapproving_Month, `Unsure/NoData_Month`) %>%
distinct() -> monthlyapproval
monthlyapproval %>%
mutate(Approving_change = Approving_Month - lead(Approving_Month), Disapproving_change = Disapproving_Month - lead(Disapproving_Month),
`Unsure/NoData_change` = `Unsure/NoData_Month` - lead(`Unsure/NoData_Month`))
monthlyapproval %>%
group_by(month, year)
approval %>%
mutate(
month = month(`Start Date`),
year = year(`Start Date`)) -> monthlyapproval
monthlyapproval
summary(monthlyapproval)
View(monthlyapproval)
approval %>%
mutate(
month = month(`Start Date`),
year = year(`Start Date`)) -> monthlyapproval
monthlyapproval %>%
group_by(year, month) %>%
mutate(
Approving_Month = mean(Approving),
Disapproving_Month = mean(Disapproving),
`Unsure/NoData_Month` = mean(`Unsure/NoData`)
) -> monthlyapproval
